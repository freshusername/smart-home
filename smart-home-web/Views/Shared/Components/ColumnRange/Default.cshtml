@model smart_home_web.Models.ReportElements.ColumnRangeViewModel;
@using Domain.Core.Model.Enums;

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<figure class="highcharts-figure">
    <div class="columnrange_container"></div>
</figure>

<script>

    minvalues = JSON.parse('@Html.Raw(Json.Serialize(@Model.MinValues))');
    maxvalues = JSON.parse('@Html.Raw(Json.Serialize(@Model.MaxValues))');
    dates = JSON.parse('@Html.Raw(Json.Serialize(@Model.Dates))');


    let data = [];


    Highcharts.chart('columnrange_container', {

        chart: {
            type: 'columnrange',
            inverted: true
        },

        title: {
            text: 'Column range for ' + JSON.parse('@Html.Raw(Json.Serialize(@Model.SensorName))') + ' for dashboard' + JSON.parse('@Html.Raw(Json.Serialize(@Model.DashboardName))')
        },

        xAxis: {
            title: {
                text: 'Temperature °C'
            }
        },

        yAxis: {
            categories: JSON.parse('@Html.Raw(Json.Serialize(@Model.Dates))'),
            labels: {
                formatter: function () {
                    return new Date(this.value).toLocaleString();
                }
            }
        },

        tooltip: {
            valueSuffix: '°C'
        },

        plotOptions: {
            columnrange: {
                dataLabels: {
                    enabled: true,
                    format: '{y}°C'
                }
            }
        },

        legend: {
            enabled: false
        },

        series: [{
            name: 'Temperatures',
            data: [
                [-9.9, 10.3],
                [-8.6, 8.5],
                [-10.2, 11.8],
                [-1.7, 12.2],
                [-0.6, 23.1],
                [3.7, 25.4],
                [6.0, 26.2],
                [6.7, 21.4],
                [3.5, 19.5],
                [-1.3, 16.0],
                [-8.7, 9.4],
                [-9.0, 8.6]
            ]
        }]

    });
</script>
